node ("qemuusermode_runner2"){
  stage('*** Cleanup ***'){
    cleanWs()
  }
  stage('*** Checkout SCM ***'){
    checkout scm
  }
  stage('*** make single core ***'){
    sh'''#!/bin/bash
      make -j1 PORT_DIR=linux/
    '''
  }
  stage ('*** Printing Results ***'){
    sh '''
      echo -e "[jenkinsfile INFO]: Printing run1.log for qemuusermode single core"
      cat run1.log
      echo -e "[jenkinsfile INFO]: Printing run2.log for qemuusermode single core"
      cat run2.log
    '''
  }
  stage('*** Cleanup ***'){
    cleanWs()
  }
  stage('*** Checkout SCM ***'){
    checkout scm
  }
  stage('*** make double core ***'){
    sh'''#!/bin/bash
      make -j2 PORT_DIR=linux/
    '''
  }
  stage ('*** Printing Results ***'){
    sh '''
      echo -e "[jenkinsfile INFO]: Printing run1.log for qemuusermode two cores"
      cat run1.log
      echo -e "[jenkinsfile INFO]: Printing run2.log for qemuusermode two cores"
      cat run2.log
    '''
  }
  stage('*** Cleanup ***'){
    cleanWs()
  }
  stage('*** Checkout SCM ***'){
    checkout scm
  }
  stage('*** make 4 cores ***'){
    sh'''#!/bin/bash
      make -j4 PORT_DIR=linux/
    '''
  }
  stage ('*** Printing Results ***'){
    sh '''
      echo -e "[jenkinsfile INFO]: Printing run1.log for qemuusermode four cores"
      cat run1.log
      echo -e "[jenkinsfile INFO]: Printing run2.log for qemuusermode four cores"
      cat run2.log
    '''
  }
}
node ("riscv64_runner1"){
  stage('*** Cleanup ***'){
    cleanWs()
  }
  stage('*** Checkout SCM ***'){
    checkout scm
  }
  stage('*** make single core ***'){
    sh'''#!/bin/bash
      make -j1 CC=gcc PORT_DIR=linux/ RUN=
    '''
  }
  stage ('*** Printing Results ***'){
    sh '''
      echo -e "[jenkinsfile INFO]: Printing run1.log for qemu linux single core"
      cat run1.log
      echo -e "[jenkinsfile INFO]: Printing run2.log for qemu linux single core"
      cat run2.log
    '''
  }
  stage('*** Cleanup ***'){
    cleanWs()
  }
  stage('*** Checkout SCM ***'){
    checkout scm
  }
  stage('*** make double core ***'){
    sh'''#!/bin/bash
      make -j2 CC=gcc PORT_DIR=linux/ RUN=
    '''
  }
  stage ('*** Printing Results ***'){
    sh '''
      echo -e "[jenkinsfile INFO]: Printing run1.log for qemu linux two core"
      cat run1.log
      echo -e "[jenkinsfile INFO]: Printing run2.log for qemu linux two core"
      cat run2.log
    '''
  }
  stage('*** Cleanup ***'){
    cleanWs()
  }
  stage('*** Checkout SCM ***'){
    checkout scm
  }
  stage('*** make 4 cores ***'){
    sh'''#!/bin/bash
      make -j4 CC=gcc PORT_DIR=linux/ RUN=
    '''
  }
  stage ('*** Printing Results ***'){
    sh '''
      echo -e "[jenkinsfile INFO]: Printing run1.log for qemu linux four core"
      cat run1.log
      echo -e "[jenkinsfile INFO]: Printing run2.log for qemu linux four core"
      cat run2.log
    '''
  }
}
